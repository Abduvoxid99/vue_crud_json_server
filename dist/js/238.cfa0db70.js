"use strict";(self["webpackChunkvue_admin"]=self["webpackChunkvue_admin"]||[]).push([[238],{10238:function(t,e,a){a.r(e),a.d(e,{default:function(){return v}});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"row"},[a("a-button",{on:{click:function(e){return t.$router.push({path:"/"})}}},[t._v("back")])],1),a("a-table",{attrs:{columns:t.columns,"row-key":function(t){return t.id},"data-source":t.data,loading:t.loading,width:"600",scroll:{x:800,y:600}},scopedSlots:t._u([{key:"autor",fn:function(e){return[t._v(" "+t._s(e)+" ")]}},{key:"actions",fn:function(e){return a("span",{staticClass:"actions"},[a("a-button",{on:{click:function(a){return t.showModal(e)}}},[a("a-icon",{attrs:{type:"eye"}})],1)],1)}}])}),a("a-modal",{attrs:{title:"Basic Modal"},on:{ok:t.handleOk},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[a("div",{staticClass:"content"},[a("h3",[t._v("Autor name:")]),a("p",[t._v(t._s(t.modalData.quote))])]),a("div",[a("h3",[t._v("Genres:")]),a("ul",t._l(t.modalData.genres,(function(e){return a("li",{key:e},[t._v(" "+t._s(e.genre)+" ")])})),0)])])],1)},s=[],o=a(26166),i=a.n(o);const l="http://localhost:3000/quotes/",r=t=>i().get(l,{params:t}),u=[{title:"Autor",dataIndex:"autor",width:"20%",scopedSlots:{customRender:"autor"}},{title:"Genres",scopedSlots:{customRender:"actions"},key:"actions",width:165}];var c={data(){return{data:[],loading:!1,columns:u,visible:!1,modalData:{}}},mounted(){this.fetch()},computed:{genresComputed(){const t=this.data.map((t=>t.genres.map((t=>t.genre)))).flat();let e=[...new Set(t)];return e}},methods:{fetch(t={}){this.loading=!0,r({...t}).then((({data:t})=>{this.loading=!1,this.data=t}))},showModal(t){this.modalData=t,this.visible=!0},handleOk(){this.visible=!1}}},d=c,h=a(1001),m=(0,h.Z)(d,n,s,!1,null,"f13c3c58",null),v=m.exports}}]);
//# sourceMappingURL=238.cfa0db70.js.map